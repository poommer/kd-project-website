<!-- <!DOCTYPE html> -->
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Elephant detection dashboard</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.5.34/moment-timezone-with-data.min.js"></script>
    <link rel="shortcut icon" href="img/logo.png" type="image/x-icon">
</head>

<body>
    <header>
        <img src="img/logo.png" alt="">
        <div class="h-text">
            <h2>
                Elephant detection dashboard
            </h2>

            <h4>
                from elephant detection device : <span style="color:#F3CF29;">"Hen chang nuu mai"</span>
            </h4>
        </div>

    </header>

    <main class="col">


        <div class="row">
            <section id="mostDetected">
                <div class="row" style="display: flex;  justify-content:space-between;">
                    <h1 style="display:flex; align-items:center; color:#c50000;">
                        <img src="https://cdn-icons-png.flaticon.com/128/9356/9356599.png" alt="" style="width:30px;">
                        Most detected!
                        <small id="update-date"></small>
                    </h1>



                </div>




                <div class="row">

                    <div class="card" style="width:70%;">
                        <div class="card-head">
                            <h2 style="display:flex; align-items:center;"><img
                                    src="https://cdn-icons-png.flaticon.com/128/9195/9195785.png" alt=""
                                    style="width:30px;">information & latest detected</h2>
                        </div>

                        <div class="card-body">
                            <div style="font-size: 16px; display: flex; align-items: center; justify-content: center;">
                                <span class="spinner-grow" aria-hidden="true"></span>กำลังโหลดข้อมูล...
                            </div>
                        </div>
                    </div>

                    <div class="col"
                        style="display: flex; justify-content:space-between; align-items: center; margin:0 1rem;">


                        <div class="col">
                            <label for="dateRange">date range</label>
                            <select name="dateRange" id="dateRange">
                                <option value="7days">last 7 days</option>
                                <option value="14days">last 14 days</option>
                                <option value="28days">last 28 days</option>
                                <option value="Today" selected>Today</option>
                                <option value="yesterday">yesterday</option>
                                <option value="thisMonth">this month</option>
                                <option value="lastMonth">last month</option>
                                <option value="thisYear">this year</option>
                                <option value="lastYear">last year</option>
                                <option value="custom">custom</option>
                            </select>
                        </div>
                        <div class="col" style="display: none;" id="dateRangeCustom">



                            <div class="col">
                                <label for="startDate">start Date</label>
                                <input type="date" id="startDate">

                            </div>

                            <div class="col">
                                <label for="startDate">End date</label>
                                <input type="date" id="endDate">

                            </div>


                            <button id="btn-query" style="width: 100%; margin-top: 0.5rem;" disabled>filter</button>


                        </div>






                    </div>


                </div>

                <div class="row" style="justify-content: space-between; align-items: center; margin-top: 1rem;">
                    <div class="total-today total-card" style="border-color:#4193CC; width: 33.33%;">
                        <div></div>
                        <h3 id="MosttFRange" style="margin-top: 1.5rem;">
                            <div style="font-size: 16px; display: flex; align-items: center; justify-content: center;">
                                <span class="spinner-grow" aria-hidden="true"></span>กำลังโหลดข้อมูล...
                            </div>
                        </h3>
                        <p style="text-align:end;">total from range</p>

                    </div>

                    <div class="total-today total-card" style="border-color:#4193CC; width: 33.33%;">
                        <div></div>
                        <h3 id="MostToday" style="margin-top: 1.5rem;">
                            <div style="font-size: 16px; display: flex; align-items: center; justify-content: center;">
                                <span class="spinner-grow" aria-hidden="true"></span>กำลังโหลดข้อมูล...
                            </div>
                        </h3>
                        <p style="text-align:end;">Today</p>

                    </div>

                    <div class="total-all total-card" style="border-color:#9D9BEE; width: 33.33%; ">
                        <div></div>
                        <h3 style="margin-top: 1.5rem;" id="MostAll">
                            <div style="font-size: 16px; display: flex; align-items: center; justify-content: center;">
                                <span class="spinner-grow" aria-hidden="true"></span>กำลังโหลดข้อมูล...
                            </div>
                        </h3>
                        <p style="text-align:end;">all</p>

                    </div>
                </div>

                <div class="row">
                    <section id="chart7-area" class="col">
                        <h2 style="display:flex; align-items:center;">detected chart</h2>

                        <div id="show-chart7Dn">
                        </div>
                    </section>

                    <section id="chart7Dn-areaND" class="col">
                        <h2 style="display:flex; align-items:center;">Detected time period</h2>
                        <div id="show-chart7Dn-areaND">
                        </div>
                    </section>
                </div>











            </section>

            <section id="latestDetected">
                <h1 style="display:flex; align-items:center; color:#15750f;">
                    <img src="https://cdn.icon-icons.com/icons2/1146/PNG/512/1486485531-activities-history-log-past-recent_81187.png"
                        alt="" style="width:30px;">
                    last detected!
                    <img src="https://media0.giphy.com/media/ZFu5rBL7T85HpI1YmT/giphy.gif?cid=6c09b952m5befecn835p1wnrv9jr2agx9zpz8gdmbvzi105x&ep=v1_internal_gif_by_id&rid=giphy.gif&ct=s"
                        alt="" id="update-gif" style="width:60px; display: none;">
                </h1>

                <div>
                    <table id="latestTable" style="font-size: 12px;">
                        <thead>
                            <tr>
                                <th style="width: 21%;">timestamp</th>
                                <th style="width: 12%;">Dvice ID</th>
                                <th style="width: 15%;">Time Period</th>
                                <th style="width: 60%;">Address</th>
                            </tr>
                        </thead>

                        <tbody id="body-latestTable">
                            <tr style="text-align: center;">
                                <td colspan="4" style="text-align: center;"><span id="update-date"
                                        style="font-size:14px; color: #818181; margin-left:0.5rem;"><span
                                            class="spinner-grow" aria-hidden="true"></span>กำลังโหลดข้อมูล...</span>
                                </td>

                            </tr>
                        </tbody>
                    </table>
                </div>

            </section>
        </div>


        <div class="row">
            <section id="sec-maps">
                <div id="map" style="width: 100%; height: 100%;"></div>
            </section>


            <section id="showDataAll">
                <div class="header-showData"
                    style="position: relative; display: flex; align-items: center; justify-content: space-between;">
                    <h2>show Data All</h2>
                    <button id="btn-filter" style=""><img src="img/filter.png" alt="" style="width: 24px;"></button>

                </div>
                <div class="menu-Filter col" style="position: relative;">

                    <div class="groupFilter-item" style="position: absolute; right: 0; display: none;">
                        <div class="row">
                            <div class="col" style="width: 70%;">
                                <label for="filterDateRange">Date range:</label>
                                <select id="filterDateRange" name="filterDateRange"
                                    style="width: 100%; border: none; color: #686868;" placeholder="no filter">
                                    <option value="" selected>---no filter---</option>
                                    <option value="7days">last 7 days</option>
                                    <option value="14days">last 14 days</option>
                                    <option value="28days">last 28 days</option>
                                    <option value="Today">Today</option>
                                    <option value="yesterday">yesterday</option>
                                    <option value="thisMonth">this month</option>
                                    <option value="lastMonth">last month</option>
                                    <option value="thisYear">this year</option>
                                    <option value="lastYear">last year</option>
                                    <option value="custom">custom</option>
                                </select>
                            </div>

                            <div class="col">
                                <label for="">timePr</label>
                                <div class="row">
                                    <label for="filter-day" class="checkbox">
                                        <input type="checkbox" name="filter-timePr" id="filter-day" value="Day"
                                            style="display: none;">
                                        Day
                                    </label>

                                    <label for="filter-night" class="checkbox">
                                        <input type="checkbox" name="filter-timePr" id="filter-night" value="Night"
                                            style="display: none;">
                                        Night
                                    </label>
                                </div>
                            </div>


                        </div>


                        <div id="group-filterDate" style="display: none;">
                            <div class="col">
                                <label for="filter-DateSt">Date start:</label>
                                <input type="date" name="filter-DateSt" id="filter-DateSt">
                            </div>

                            <div class="col">
                                <label for="filter-DateEnd">Date end:</label>
                                <input type="date" name="filter-DateEnd" id="filter-DateEnd">
                            </div>
                        </div>


                        <div class="col">


                            <div class="col" style="margin-top: 1rem; align-items: end;">
                                <button style="width:5rem;font-size: 14px;" id="btn-filter-enter">ค้นหา</button>
                            </div>

                        </div>
                    </div>
                </div>


                <div class="col" style="margin-top: 1rem;">

                    <div class="row" style="">
                        <div class="col chartGroup chart">
                            <div class="col chart4" id="sec-chartCountDay">
                                <h2>Detected in day</h2>
                                <div class="not-infoday"
                                    style="display: flex; flex-direction: column; align-items: center; justify-content: center;">
                                    <p>Not information!</p>
                                    <small>please click marker on map</small>
                                </div>
                            </div>

                            <div class="col chart4" id="sec-chartCountTime">
                                <h2>Detection in time</h2>
                                <div class="not-infotime"
                                    style="display: flex; flex-direction: column; align-items: center; justify-content: center;">
                                    <p>Not information!</p>
                                    <small>please click marker on map</small>
                                </div>
                            </div>
                        </div>

                        <div class="col" style="width: 40%; gap:0.5rem">
                            <div  id="deviceInfo" style="margin-left: .5rem;  width: 100%;   height: 10rem;">
                              <div class="row" style="justify-content: space-between; align-items: center;">
                                    <h2>Security level</h2>
                                    <p>Now time <span id="timeNow"></span></p>
                                </div>
                                <div id="predicInfo" class="col" style="justify-content: center; gap: .4rem; display: none;">
                                 
                                

                                <div class="progress-container">
                                    <div class="progress-bar" id="progress-bar"></div>
                                </div>
                                <div class="statuspogress row"
                                    style="justify-content: space-between; align-items: center; width: 100%;">
                                    <small>safe</small>
                                    <small>warning</small>
                                    <small>danger</small>
                                </div>
                                <div class="row" id="lev_vlue"
                                    style="justify-content: center; font-weight: bold; color: #468999;">Detected during
                                    18:00 = 24:00 period 20%</div>
                              </div>
                               
                              <div id="infopredic">
                                <div class="not-info"
                                    style="display: flex; flex-direction: column; align-items: center; justify-content: center;">
                                    <p>Not information!</p>
                                    <small>please click marker on map</small>
                                </div>

                            </div>


                                

                            </div>

                            <div id="deviceInfo" style="margin-left: .5rem;  width: 100%;   height: 10rem;
                        ">
                                <h2>Device Infomation</h2>
                                <div id="infoDV">
                                    <div class="not-info"
                                        style="display: flex; flex-direction: column; align-items: center; justify-content: center;">
                                        <p>Not information!</p>
                                        <small>please click marker on map</small>
                                    </div>

                                </div>

                            </div>

                            <div class="chart3" id="sec-chart3" style="margin-left: .5rem;     height: 30rem;
                        ">
                                <h2>Detected time period</h2>
                                <canvas id="chartPeriod"></canvas>
                                <div class="not-infoperiod"
                                    style="display: flex; flex-direction: column; align-items: center; justify-content: center;">
                                    <p>Not information!</p>
                                    <small>please click marker on map</small>
                                </div>

                            </div>


                        </div>

                    </div>
                </div>


            </section>
        </div>


    </main>

    <footer>

    </footer>

</body>



<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script>
    (g => { var h, a, k, p = "The Google Maps JavaScript API", c = "google", l = "importLibrary", q = "__ib__", m = document, b = window; b = b[c] || (b[c] = {}); var d = b.maps || (b.maps = {}), r = new Set, e = new URLSearchParams, u = () => h || (h = new Promise(async (f, n) => { await (a = m.createElement("script")); e.set("libraries", [...r] + ""); for (k in g) e.set(k.replace(/[A-Z]/g, t => "_" + t[0].toLowerCase()), g[k]); e.set("callback", c + ".maps." + q); a.src = `https://maps.${c}apis.com/maps/api/js?` + e; d[q] = f; a.onerror = () => h = n(Error(p + " could not load.")); a.nonce = m.querySelector("script[nonce]")?.nonce || ""; m.head.append(a) })); d[l] ? console.warn(p + " only loads once. Ignoring:", g) : d[l] = (f, ...n) => r.add(f) && u().then(() => d[l](f, ...n)) })
        ({ key: "AIzaSyCtu4ay6A9yIe35MSAJ3Jr1p07S1DvgiZ0", v: "weekly" });</script>

</script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.datatables.net/2.0.5/js/dataTables.js"></script>

<script src="script.js"></script>

</html>
